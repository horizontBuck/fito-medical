<section class="doctor-profile-img">
  <div class="position-relative flex-center w-100">
   <img [src]="user?.avatarFile ? profesionalService.getAvatarUrl(user) : 'assets/img/default-avatar.png'"
        alt="{{ user?.name }}" />
    <div class="position-absolute top-icon w-100">
      <div class="d-flex justify-content-between align-items-center w-100">
        <a routerLink="/" class="back-button flex-center">
          <i class="ph ph-caret-left"></i>
        </a>
        <button class="share-button flex-center">
          <a [routerLink]="['/profile/professional/settings']" class="settings-link">
            <i class="ph ph-gear"></i>
          </a>
        </button>
      </div>
    </div>
  </div>
</section>
      <!-- Droctor Profile Section End -->

      <div class="doctor-profile-bottom">
        <div class="bottom-top">
         
          <div class="row doctor-info d-flex justify-content-between align-items-center pt-6 flex-wrap gap-2">
            <div
              class="item d-flex justify-content-start align-items-center gap-2 col-4"
            >
              <i class="ph ph-users-three d-block"></i>
              <div class="">
                <p>Pacientes</p>
                <p class="fw-bold">{{professional?.patients}}</p>
              </div>
            </div>
            <div
              class="item d-flex justify-content-start align-items-center gap-2 col-4"
            >
              <i class="ph ph-user d-block"></i>
              <div class="">
                <p>Experiencia</p>
                <p class="fw-bold">{{professional?.experience}}</p>
              </div>
            </div>
            <div
              class="item d-flex justify-content-start align-items-center gap-2 col-4"
            >
              <i class="ph ph-chat-text d-block"></i>
              <div class="">
                <p>Calificaciones</p>
                <p class="fw-bold">{{professional?.rating}}</p>
              </div>
            </div>
          </div>
        </div>

     
        <div class="doctor-about">
  <h3><i class="ph ph-user"></i> {{ user?.name }}</h3>
  <p *ngIf="user?.gender">
    <i class="ph ph-gender-intersex"></i>
    {{ user.gender }}
  </p>
 <p *ngIf="user?.category?.name">
  <i class="ph ph-briefcase"></i>
  {{ user.category.name }}
</p>



  <p class="pt-5"> <i class="ph ph-briefcase"></i> {{ user?.Biography }}</p>
  
  <h5 class="fw-semibold mb-3">Servicios ofrecidos</h5>
<div *ngIf="loadingServices" class="text-center text-muted py-3">
      Cargando servicios...
    </div>

    <div *ngIf="!loadingServices && services.length === 0" class="text-center text-muted">
      Este profesional aún no ha registrado servicios.
    </div>

    <div class="row g-3" *ngIf="!loadingServices && services.length > 0">
      <div class="col-6 col-md-4 col-lg-3" *ngFor="let service of services" >
        <div class="card shadow-sm border-0 h-100" style="background: #0fa49e4f;
    border-radius: 10px;">
          <div class="card-body text-center p-3">
            <div class="fs-3 mb-2">{{ getServiceIcon(service.icon) }}</div>
            <h6 class="fw-bold mb-1 text-truncate">{{ service.name }}</h6>
            <p class="text-muted small text-truncate mb-2">{{ service.description }}</p>
            <p class="fw-semibold text-primary mb-0">
              {{ service.price | currency: 'COP':'symbol':'1.0-0' }}
            </p>
            <p *ngIf="service.requiresPrescription" class="text-danger small mt-1 mb-0">
              <i class="ph ph-warning-circle"></i> Requiere fórmula médica
            </p>
          </div>
        </div>
      </div>
    </div>

</div>

      </div>